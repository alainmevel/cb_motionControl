<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- Generator: ControlBuild -->

<project xmlns="http://www.plcopen.org/xml/tc6_0201.xsd" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.plcopen.org/xml/tc6_0201.xsd TC6_XML_V10.xsd">
	<fileHeader companyName="Dassault Syst&#232;mes" productName="ControlBuild" productVersion="2024x" creationDateTime="2023-10-04T11:03:55-01:00" />
	<contentHeader name="servo_control">
		<coordinateInfo>
			<fbd>
				<scaling x="100" y="100" />
			</fbd>
			<ld>
				<scaling x="100" y="100" />
			</ld>
			<sfc>
				<scaling x="32" y="8" />
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes />
		<pous>
			<pou name="motion_control.servo_control" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="HomeCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>home command</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>92d4ba05-45b0-4f65-991b-c2e1e4c8b768</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveVelCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>velocity command</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>fe339d00-dca0-4733-b114-231e26e08ab1</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveAbsCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>move command</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>96598eb2-90ac-43bc-b36d-49507b086d5d</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveVel1ManualCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Simulation operator velocity start</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>764d4527-91c0-4f1d-abcc-3cb81b98d0d5</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveVel2ManualCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Simulation operator velocity start</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>8eed2b6d-d8df-4a17-bdc2-63d039c83ad8</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveAbs1ManualCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Simulation operator positioning1 start</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>689a6de5-7614-4e72-b972-ff4027bf3412</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveAbs2ManualCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Simulation operator positioning2 start (not used)</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>0c26d297-fe4d-4e1f-9e26-1d4e1fe31502</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="StopCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>move command</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>c766d23c-25b7-4f9e-8975-2a31c45ca37b</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MovePosition">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Target position in length or degree</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>fb829e76-3323-4fc7-a1f1-13afd7856c4e</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveSpeed">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Speed in % of MAX_SPEED</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>ce442c7a-e8c1-425c-926a-b7f310ba8eeb</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveAcceleration">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Acceleration in % of MAX_ACCEL</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>6ca2c397-e922-4699-9aa0-2de88697f830</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MoveDeceleration">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Deceleration in % of MAX_DECEL</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>ca2578b2-73a7-47c5-9f40-642cdb46ad2f</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="offsetAxToMa">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>For modification of reference position. Value to add to the (Ma)chine position to get the (Ax)is poisition</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>cc942d90-cd1c-4c85-8ae8-3ad23e9993c4</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>orders</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<inputVars>
						<variable name="physicalPosInit">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Initializiation of the position</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>60ad33c5-c173-48b3-8a1f-a89ea8d38e61</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MAX_SPEED">
							<type>
								<subrangeSigned>
									<range lower="0.0" upper="3.4e+38" />
									<baseType>
										<REAL />
									</baseType>
								</subrangeSigned>
							</type>
							<initialValue>
								<simpleValue value="1000.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>mm/s ou deg/s</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>2502afa6-ce4e-46bb-ac7e-6c066e8b15df</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inputVars</value>
							</data>
						</addData>
					</inputVars>
					<inOutVars>
						<variable name="status">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>status 0:stopped 1:accelerating 2:move constantly 3:decelerating </value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f17c8ed3-8762-4a85-a6fa-5386c5c18a66</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="errorFlag">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>0: no error 1, 2, 3 : speed/accel param Error 4:Speed too high relative to modulo</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>1f9872ce-aada-4804-83d4-47e6b2ac60d0</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="IOActualPositionAx">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Current position in axis units (mm or degree)</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>af3880a5-a663-4c36-b72c-1e3f51c4e583</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="IOVelDone">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>1fbba33b-db34-4d82-8c58-442a586c4566</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="IOAbsDone">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>ac0987da-5a02-45b3-ba13-ad7002219fd7</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="IOActualVelocity">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Current speed in mm/s or degree/s</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>70f07dde-a22f-4a8a-94b3-e4da6080edb6</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>inoutVars</value>
							</data>
						</addData>
					</inOutVars>
					<outputVars>
						<variable name="OperationMode">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>0 : Manual / 1:HomeMode / 2:MoveVelocityMode / 3:MoveAbsoluteMode</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>9a8d95c4-86db-4554-b767-f04bd967a5f3</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<outputVars>
						<variable name="StatusReady">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="true" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Reset at beginning of move / Set at end of move</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>ec6e89b7-bec6-4c21-8cc9-48d1863196e2</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="StatusMove">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Velocity not null</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>6162a4e7-1599-4853-8e17-85c09b4ec457</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="StatusStand">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Null velocity</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>7da50634-6406-45f5-b70e-9353be8c9433</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<variable name="ActualPositionMa">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Current position in machine units (mm or degree)</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>b44aab8a-53a1-4c39-8694-8c4feea71777</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="ActualVelocity">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Current speed in mm/s or degree/s</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>7765a313-08f9-48c4-85d4-1addefeaffac</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MaximumVelocity">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>619190e9-ce8a-48ca-9d56-76a20f7a00aa</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
								<data name="Geensys.CB.nameProvider" handleUnknown="preserve">
									<value>false</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.group" handleUnknown="preserve">
								<value>States</value>
							</data>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<outputVars>
						<variable name="VelEnabled">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>021b1922-fdfd-433e-afc8-4d6016d707fa</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="VelCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>1a636343-d727-4051-8e2f-de63e2d30066</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="PosEnabled">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>cf342291-d560-496b-9e7c-c31dddacf0fe</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="PosCmd">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>move command</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>2fd1194a-a637-4db0-91f0-d39a3f50619a</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="Position">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Target position in length or degree</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>c411ea09-d77d-475c-8bd3-88aae4d097bc</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="Speed">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Speed in %</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>f987e8b8-f23c-4c46-90ce-d704951bf572</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>outputVars</value>
							</data>
						</addData>
					</outputVars>
					<localVars>
						<variable name="ManualMode">
							<type>
								<INT />
							</type>
							<initialValue>
								<simpleValue value="0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>0 : Inactive / 1:Velocity1Mode / 2:Velocity2Mode / 3:MoveAbsolute1Mode / 4:MoveAbsolute2Mode</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>3e667a39-4189-486f-879b-8555a263c435</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="initDone">
							<type>
								<BOOL />
							</type>
							<initialValue>
								<simpleValue value="false" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>cdc1f2a2-0def-4189-91f4-e211d1acd358</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="ActualPositionMa1">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>Current position in axis units (mm or degree)</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>b9a0e202-310e-4d05-b05c-d83fb89da050</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="offsetAxToMa1">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>For modification of reference position. Value to add to the (Ma)chine position to get the (Ax)is poisition</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>5c0b4c78-f26b-41b5-83f9-17740c6ead08</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>localVars</value>
							</data>
						</addData>
					</localVars>
					<localVars constant="true">
						<variable name="HOME_POSITION">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in mm or degrees</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>12897fc9-26ae-4635-b635-e9b6d18fed12</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MANUAL_POSITION1">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="0.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in mm or degrees</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>3b3cd815-2204-4e55-b3e0-96197e467f99</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MANUAL_POSITION2">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="150.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in mm or degrees</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>e205f72a-ae9a-4a5a-9c52-60d8fbd56d39</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MANUAL_SPEED1">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="-100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in % of max Speed</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>dffea085-7949-4e06-81e9-6061c53651ae</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MANUAL_SPEED2">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in % of max Speed</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>4583cf92-c983-44bb-9106-122f041b392f</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<variable name="MANUAL_SPEED">
							<type>
								<REAL />
							</type>
							<initialValue>
								<simpleValue value="100.0" />
							</initialValue>
							<addData>
								<data name="Geensys.CB.libelle" handleUnknown="preserve">
									<value>in % of max Speed</value>
								</data>
								<data name="Geensys.CB.IdentifierProperty" handleUnknown="preserve">
									<value>55b77576-8920-47ce-a993-8480731c9e84</value>
								</data>
								<data name="Geensys.CB.visibility" handleUnknown="preserve">
									<value>true</value>
								</data>
							</addData>
						</variable>
						<addData>
							<data name="Geensys.CB.kind" handleUnknown="preserve">
								<value>parameterVars</value>
							</data>
						</addData>
					</localVars>
					<addData>
						<data name="Geensys.CB.groupIn" handleUnknown="preserve">
							<value>orders,</value>
						</data>
						<data name="Geensys.CB.groupOut" handleUnknown="preserve">
							<value>States,</value>
						</data>
					</addData>
				</interface>
				<actions>
					<action name="C_source_code">
						<body>
							<ST>/* ----------------------------------------------------------------&#9;*/
/* Type : Model of Operative Behaviour&#9;&#9;&#9;&#9;&#9;*/
/* Category :  motion control&#9;&#9;&#9;&#9;&#9;&#9;*/
/* Author : &#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;*/
/* Update date : June 2021&#9;&#9;&#9;&#9;&#9;&#9;&#9;*/
/* ----------------------------------------------------------------&#9;*/
/* This module control the accesses to control the motion drive &#9;*/
/* ----------------------------------------------------------------&#9;*/

if (initDone == 0) {
&#9;IOActualPositionAx = physicalPosInit;
}
// modification of ref position
if (offsetAxToMa != offsetAxToMa1) {
&#9;ActualPositionMa += (offsetAxToMa - offsetAxToMa1);
&#9;ActualPositionMa1 += (offsetAxToMa - offsetAxToMa1);
}
if (MoveVel1ManualCmd &amp;&amp; StatusReady) {
&#9;ManualMode = 1;
&#9;StatusReady = 0;
&#9;Speed = MANUAL_SPEED1;
&#9;PosEnabled = 0;
&#9;VelEnabled = 1;
&#9;PosCmd = 0;
&#9;VelCmd = 1;
}
if (MoveVel2ManualCmd &amp;&amp; StatusReady) {
&#9;ManualMode = 1;
&#9;StatusReady = 0;
&#9;Speed = MANUAL_SPEED2;
&#9;PosEnabled = 0;
&#9;VelEnabled = 1;
&#9;PosCmd = 0;
&#9;VelCmd = 1;
}
if (MoveAbs1ManualCmd &amp;&amp; StatusReady) {
&#9;ManualMode = 3;
&#9;StatusReady = 0;
&#9;Position = MANUAL_POSITION1;
&#9;Speed = MANUAL_SPEED;
&#9;PosEnabled = 1;
&#9;VelEnabled = 0;
&#9;PosCmd = 1;
&#9;VelCmd = 0;
}
if (MoveAbs2ManualCmd &amp;&amp; StatusReady) {
&#9;ManualMode = 3;
&#9;StatusReady = 0;
&#9;Position = MANUAL_POSITION2;
&#9;Speed = MANUAL_SPEED;
&#9;PosEnabled = 1;
&#9;VelEnabled = 0;
&#9;PosCmd = 1;
&#9;VelCmd = 0;
}
if (HomeCmd &amp;&amp; StatusReady) {
&#9;OperationMode = 1;
&#9;StatusReady = 0;
&#9;Position = HOME_POSITION;
&#9;Speed = MoveSpeed;
&#9;PosEnabled = 1;
&#9;VelEnabled = 0;
&#9;PosCmd = 1;
&#9;VelCmd = 0;
}
if (MoveVelCmd &amp;&amp; StatusReady) {
&#9;OperationMode = 2;
&#9;StatusReady = 0;
&#9;Speed = MoveSpeed;
&#9;PosEnabled = 0;
&#9;VelEnabled = 1;
&#9;PosCmd = 0;
&#9;VelCmd = 1;
}
if (MoveAbsCmd &amp;&amp; StatusReady) {
&#9;OperationMode = 3;
&#9;StatusReady = 0;
&#9;Position = MovePosition - offsetAxToMa;
&#9;Speed = MoveSpeed;
&#9;PosEnabled = 1;
&#9;VelEnabled = 0;
&#9;PosCmd = 1;
&#9;VelCmd = 0;
}
if ((OperationMode != 0 &amp;&amp; StopCmd) || (OperationMode == 2 &amp;&amp; !MoveVelCmd) || status == 5) {
&#9;OperationMode = 0;
&#9;ManualMode = 0;
&#9;PosCmd = 0;
&#9;VelCmd = 0;
}
if (ManualMode == 1 &amp;&amp; !MoveVel1ManualCmd &amp;&amp; !MoveVel2ManualCmd) {
&#9;OperationMode = 0;
&#9;ManualMode = 0;
&#9;PosCmd = 0;
&#9;VelCmd = 0;
}
if (OperationMode == 0 &amp;&amp; ManualMode == 0 &amp;&amp; status == 0) {
&#9;StatusReady = 1;
&#9;PosEnabled = 0;
&#9;VelEnabled = 0;
}

ActualVelocity = IOActualVelocity;
StatusMove = (ActualVelocity != 0.0);
StatusStand = (ActualVelocity == 0.0);
ActualPositionMa1 = ActualPositionMa;
ActualPositionMa = IOActualPositionAx + offsetAxToMa;
offsetAxToMa1 = offsetAxToMa;
MaximumVelocity = MAX_SPEED;

initDone = 1;


</ST>
						</body>
					</action>
				</actions>
				<addData>
					<data name="Geensys.CB.INSTANCE_NAMIMG_PATTERN" handleUnknown="preserve">
						<value></value>
					</data>
					<data name="Geensys.CB.COMMENTS_PATTERN" handleUnknown="preserve">
						<value></value>
					</data>
				</addData>
				<documentation>
					<xhtml:pre>This module control the accesses to control the motion drive</xhtml:pre>
				</documentation>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations />
	</instances>
</project>